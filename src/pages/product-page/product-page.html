<custom-header></custom-header>
<ion-content padding id="product-page">
  <div class="content">

    <!-- FIXME : REMOVE COMMENTED CODE -->
    <!-- <div class="bg-img-container">
      <img class="bg-img" src="{{bg_img}}">
      <div class="content-inside-bg">
        <img class="product-img" src="{{product.image}}">
      </div>
    </div> -->

    <!-- <div class="product-img-container" style="background-image: url({{bg_img}});">
      <h1 class="product-title">{{product.name}}</h1>
      <img class="product-img" src="{{product.image}}">
    </div> -->

    <div class="img-container">
      <img class="product-img" src="{{product.image}}">
    </div>

    <h1 class="product-title">{{product.name}}</h1>

    <div class="info-table" *ngIf="product.info != '-'">
      <h3 class="title">Πληροφορίες</h3>
      <div class="value-container">
        <!-- FIXME : Remove this shit -->
        <!-- <p class="info-line"><span class="info">Χολυστερόλη</span><span class="value">{{product.price}}</span></p> -->
        <p class="info" innerHTML="{{product.info}}"></p>
      </div>
    </div>

    <div class="purchase-area">
      <div class="amount-selector">

        <!-- Used if we use price per piece too -->
        <p class="sign" (click)="priceBasedOnWeight ? (kilos > 0 ? kilos = kilos - 0.5 : null) : (pieces > 0 ? pieces = pieces - 1 : null)">-</p>
        <p class="amount" *ngIf="priceBasedOnWeight">{{('' + kilos).replace('.', ',')}}<span> {{kilos == 1 || kilos == 1.5 ? 'κιλό' : 'κιλά'}}</span></p>
        <p class="amount" *ngIf="!priceBasedOnWeight">{{pieces == 1 ? 'τεμάχιο' : 'τεμάχιο'}}</p>
        <p class="sign" (click)="priceBasedOnWeight ? (30 > kilos ? kilos = kilos + 0.5 : null) : (40 > pieces ? pieces = pieces + 1 : null)">+</p>

        <!-- Use if price is only based on weight -->
        <!-- <p class="sign" (click)="kilos > 0.5 ? kilos = kilos - 0.5 : null">-</p>
        <p class="amount">{{('' + kilos).replace('.', ',')}}<span> {{kilos == 1 || kilos == 1.5 ? 'κιλό' : 'κιλά'}}</span></p>
        <p class="sign" (click)="30 > kilos ? kilos = kilos + 0.5 : null">+</p> -->
      </div>
      <p class="price" >{{(calculatePrice() | number : '1.2-2').replace('.', ',')}} €</p>

      <cta-button [icon]="cartIcon" [label]="buttonLabel" [disabled]="false" (onClick)="addToCart()">
      </cta-button>
    </div>
  </div>

</ion-content>